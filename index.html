<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Nexora AI Pro</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>

body{
margin:0;
font-family:'Poppins',sans-serif;
background:linear-gradient(135deg,#0f172a,#4f46e5);
color:white;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

.card{
background:#1e293b;
padding:40px;
border-radius:20px;
width:95%;
max-width:700px;
text-align:center;
box-shadow:0 25px 60px rgba(0,0,0,0.6);
animation:fade 0.8s ease;
}

textarea,input,select{
width:100%;
padding:12px;
margin-top:15px;
border-radius:10px;
border:none;
font-family:'Poppins';
}

button{
padding:12px 25px;
border:none;
border-radius:25px;
cursor:pointer;
margin-top:15px;
font-weight:600;
transition:0.3s;
}

.primary{background:#22c55e;color:white;}
.buy{background:#facc15;color:black;}
.danger{background:#ef4444;color:white;}

button:hover{
transform:scale(1.05);
box-shadow:0 10px 25px rgba(0,0,0,0.5);
}

.result{
margin-top:20px;
background:#0f172a;
padding:15px;
border-radius:10px;
text-align:left;
white-space:pre-line;
max-height:200px;
overflow:auto;
font-size:14px;
}

small{opacity:0.7;}

@keyframes fade{
from{opacity:0;transform:translateY(-20px);}
to{opacity:1;transform:translateY(0);}
}

</style>
</head>
<body>

<div class="card">
<h1>Nexora AI</h1>
<div id="app"></div>
</div>

<script>

// ===== CONFIG =====
const HORAS_PRUEBA = 24;

// C贸digos PRO v谩lidos
function hash(t){
let h=0;
for(let i=0;i<t.length;i++){
h=((h<<5)-h)+t.charCodeAt(i);
h|=0;
}
return h;
}

const codigosHash=[
hash("NX-8472-PRO"),
hash("NX-9901-MAX"),
hash("NX-5519-SECURE")
];

// ===== ESTADO =====

let licencia = localStorage.getItem("licencia");
let inicioPrueba = localStorage.getItem("inicioPrueba");
let ahora = Date.now();

// Si no empez贸 prueba, iniciarla
if(!inicioPrueba){
localStorage.setItem("inicioPrueba", ahora);
inicioPrueba = ahora;
}

let tiempoRestante = (HORAS_PRUEBA*60*60*1000) - (ahora - inicioPrueba);

// Verificar PRO
function esPro(){
if(!licencia) return false;
let partes = licencia.split("|");
if(partes.length!==2) return false;
let codigoHash=parseInt(partes[0]);
let navHash=parseInt(partes[1]);
return codigosHash.includes(codigoHash) && navHash===hash(navigator.userAgent);
}

if(esPro()){
cargarApp(true);
}else{
if(tiempoRestante>0){
cargarApp(false,true);
}else{
mostrarBloqueo();
}
}

// ===== APP =====

function cargarApp(pro, pruebaActiva){

let textoEstado="";
if(pro){
textoEstado="PRO Activo";
}else if(pruebaActiva){
let horas=Math.floor(tiempoRestante/1000/60/60);
textoEstado="Prueba gratuita activa - "+horas+"h restantes";
}

document.getElementById("app").innerHTML=`

<small>${textoEstado}</small>

<select id="tipo">
<option value="negocio">Idea de Negocio</option>
<option value="ventas">Texto de Ventas</option>
<option value="post">Post Redes</option>
<option value="plan">Mini Plan Estrat茅gico</option>
</select>

<textarea id="prompt" placeholder="Escribe aqu铆..."></textarea>

<button class="primary" onclick="generar()">Generar</button>

${pro ? 
`<button class="danger" onclick="logout()">Cerrar sesi贸n</button>` :
`<button class="buy" onclick="mostrarPago()">Desbloquear PRO</button>`}

<div class="result" id="resultado"></div>
`;
}

function generar(){
let texto=document.getElementById("prompt").value;
if(texto.trim()==="") return;

let salida=" Resultado profesional para:\n\n"+texto+
"\n\nEstrategia estructurada y optimizada lista para aplicar.";

document.getElementById("resultado").innerText=salida;
}

// ===== BLOQUEO =====

function mostrarBloqueo(){
document.getElementById("app").innerHTML=`
<h2>Prueba finalizada</h2>
<p>Desbloquea la versi贸n PRO para seguir usando la herramienta.</p>
<button class="buy" onclick="mostrarPago()">Comprar PRO</button>
`;
}

// ===== PAGO =====

function mostrarPago(){
document.getElementById("app").innerHTML=`
<h2>Versi贸n PRO - USD 15</h2>
<p>Paga y recibe tu c贸digo de activaci贸n.</p>

<button class="buy" onclick="irPago()">Pagar con Mercado Pago</button>

<br><br>

<input id="codigo" placeholder="Nx1992">
<button class="primary" onclick="activar()">Activar</button>
`;
}

function irPago(){
window.location.href="https://mpago.la/287RTsB";
}

function activar(){
let codigo=document.getElementById("codigo").value;
let codigoHash=hash(codigo);
let navHash=hash(navigator.userAgent);

if(codigosHash.includes(codigoHash)){
localStorage.setItem("licencia",codigoHash+"|"+navHash);
alert("PRO activado correctamente");
location.reload();
}else{
alert("C贸digo inv谩lido");
}
}

function logout(){
localStorage.clear();
location.reload();
}

</script>

</body>
</html>
